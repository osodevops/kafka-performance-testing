---
# Test Configuration Matrices
# These define the parameter variations for each test scenario
# Modify these to customize your performance testing

# =============================================================================
# Producer Configuration Matrix (PRD Scenario 1)
# =============================================================================
producer_test_matrix:
  # Baseline test - comprehensive parameter sweep
  baseline:
    acks:
      - "0"
      - "1"
      - "all"
    batch_size:
      - 1024
      - 8192
      - 16384
      - 32768
      - 64000
    linger_ms:
      - 0
      - 5
      - 10
      - 20
      - 50
    compression_type:
      - "none"
      - "snappy"
      - "lz4"
      - "zstd"
    record_size:
      - 512
      - 1024
      - 2048
      - 4096

  # Quick test - reduced parameter set for faster testing
  quick:
    acks:
      - "1"
    batch_size:
      - 16384
      - 32768
    linger_ms:
      - 10
    compression_type:
      - "zstd"
    record_size:
      - 1024

# =============================================================================
# Consumer Configuration Matrix (PRD Scenario 2)
# =============================================================================
consumer_test_matrix:
  baseline:
    fetch_min_bytes:
      - 1024
      - 10240
      - 102400
    fetch_max_wait_ms:
      - 0
      - 50
      - 100
      - 500
    max_poll_records:
      - 100
      - 500
      - 1000
      - 5000
    receive_buffer_bytes:
      - 1048576    # 1MB
      - 8388608    # 8MB

  quick:
    fetch_min_bytes:
      - 10240
    fetch_max_wait_ms:
      - 100
    max_poll_records:
      - 500
      - 1000
    receive_buffer_bytes:
      - 1048576

# =============================================================================
# Load Scaling Matrix (PRD Scenario 3)
# =============================================================================
scaling_test_matrix:
  num_producers:
    - 1
    - 3
    - 5
    - 10
  num_consumers:
    - 1
    - 3
    - 5

# =============================================================================
# Message Size Analysis Matrix (PRD Scenario 4)
# =============================================================================
message_size_matrix:
  record_size:
    - 128
    - 256
    - 512
    - 1024
    - 2048
    - 4096
    - 8192
    - 16384
  compression_type:
    - "none"
    - "zstd"
  # Fixed producer settings for message size tests
  acks: "1"
  linger_ms: 10
  batch_size_multiplier: 10  # batch.size = record_size * multiplier

# =============================================================================
# Acknowledgment Trade-off Matrix (PRD Scenario 5)
# =============================================================================
acks_tradeoff_matrix:
  acks:
    - "0"
    - "1"
    - "all"
  replication_factor:
    - 1
    - 3
  min_insync_replicas:
    - 1
    - 2
  # Fixed settings for acks comparison
  batch_size: 16384
  linger_ms: 10
  record_size: 1024

# =============================================================================
# Default Test Parameters
# =============================================================================
perf_defaults:
  # Record count per test
  num_records: 1000000

  # Throughput (-1 for unlimited)
  throughput: -1

  # Producer buffer
  buffer_memory: 67108864  # 64MB

  # Max in-flight requests
  max_inflight: 5

  # Topic configuration
  topic_partitions: 12
  replication_factor: 3

  # Timeouts
  async_timeout: 80000
  consumer_timeout: 80000

# =============================================================================
# Test Execution Options
# =============================================================================
test_options:
  # Run tests in parallel where possible
  parallel_execution: true

  # Generate report after tests
  generate_report: true

  # Delete topics after tests
  cleanup_topics: true

  # Archive logs after completion
  archive_logs: false

  # Verbose output
  verbose: false
